{"ast":null,"code":"import _regeneratorRuntime from \"/home/vishal/userposts/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/vishal/userposts/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/home/vishal/userposts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport posts from '../apis/posts';\nimport history from '../history';\nimport { POST_LIST, CREATE_POST, UPDATE_POST, DELETE_POST, LOGOUT__REQUESTED } from './types';\n/*const  {\n    \"Content-Type\" : \"application/json\"\n}*/\n\nexport var signIn = function signIn(formValue) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return wp.post('/jwt-auth/v1/token', _objectSpread({}, formValues));\n\n              case 3:\n                response = _context.sent;\n                console.log(response.data.user_display_name);\n                localStorage.setItem(\"authToken\", response.data.token);\n                localStorage.setItem(\"displayName\", response.data.user_display_name);\n                localStorage.setItem(\"loggedInUserId\", response.data.user_id);\n                history.push('/');\n                toastrSuccessFunction(\"SignIn Successful\", \"\".concat(formValues.username));\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](0);\n                toastrWarningFunction(\"SignIn Failed\", \"\".concat(formValues.username));\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 12]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var logOutAction = function logOutAction(id) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                dispatch({\n                  type: LOGOUT__REQUESTED,\n                  payload: id\n                });\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var RegisterUser = function RegisterUser(formValue) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                console.log(formValue);\n                _context3.next = 3;\n                return posts.post('/wp/v2/users/register', _objectSpread({}, formValue));\n\n              case 3:\n                response = _context3.sent;\n                console.log(response.data, 'RegisterUser');\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var createpost = function createpost(formValue) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return posts.post('/wp/v2/posts', _objectSpread({}, formValue));\n\n              case 2:\n                response = _context4.sent;\n                console.log(response);\n                dispatch({\n                  type: CREATE_POST,\n                  payload: response.data\n                });\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var postList = function postList() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return posts.get('/wp/v2/posts');\n\n              case 2:\n                response = _context5.sent;\n                console.log(response.data, \"aaaa\");\n                dispatch({\n                  type: POST_LIST,\n                  payload: response.data\n                });\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function (_x5) {\n        return _ref5.apply(this, arguments);\n      };\n    }()\n  );\n};\n/* \n    export const SinglePostList = id => async (dispatch) => {\n        const response = await posts.get(`/wp/v2/posts/${id}`);\n        console.log(response);\n        dispatch({type: SINGLE_POST_LISTa, payload: response.data});\n    }; */\n\nexport var UpdatePost = function UpdatePost(id, formValue) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref6 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return posts.put(\"/wp/v2/posts/\".concat(id), _objectSpread({}, formValue));\n\n              case 2:\n                response = _context6.sent;\n                console.log(response);\n                dispatch({\n                  type: UPDATE_POST,\n                  payload: response.data\n                });\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function (_x6) {\n        return _ref6.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var DeletePost = function DeletePost(id) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref7 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return posts.delete(\"/wp/v2/posts/\".concat(id));\n\n              case 2:\n                response = _context7.sent;\n                console.log(response);\n                dispatch({\n                  type: DELETE_POST,\n                  payload: id\n                });\n\n              case 5:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      return function (_x7) {\n        return _ref7.apply(this, arguments);\n      };\n    }()\n  );\n};","map":{"version":3,"sources":["/home/vishal/userposts/src/actions/index.js"],"names":["posts","history","POST_LIST","CREATE_POST","UPDATE_POST","DELETE_POST","LOGOUT__REQUESTED","signIn","formValue","dispatch","wp","post","formValues","response","console","log","data","user_display_name","localStorage","setItem","token","user_id","push","toastrSuccessFunction","username","toastrWarningFunction","logOutAction","id","type","payload","RegisterUser","createpost","postList","get","UpdatePost","put","DeletePost","delete"],"mappings":"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","sourcesContent":["import posts from '../apis/posts';\nimport history from '../history' \n\n\nimport {\n    POST_LIST,\n    CREATE_POST,\n    UPDATE_POST,\n    DELETE_POST,\n    LOGOUT__REQUESTED\n} from './types'\n\n/*const  {\n    \"Content-Type\" : \"application/json\"\n}*/\n\n\n\nexport const signIn = (formValue) => async (dispatch) => {\n\n    try{\n        const response  = await wp.post('/jwt-auth/v1/token',{...formValues});\n        console.log(response.data.user_display_name)\n        localStorage.setItem(\"authToken\", response.data.token);\n        localStorage.setItem(\"displayName\", response.data.user_display_name);\n        localStorage.setItem(\"loggedInUserId\", response.data.user_id);\n        history.push('/');\n        toastrSuccessFunction(`SignIn Successful`,`${formValues.username}`)\n      }\n      catch(error){\n        toastrWarningFunction(`SignIn Failed`,`${formValues.username}`);\n      }     \n    };\n\nexport const logOutAction = (id) => async (dispatch) => {\n    dispatch({ type: LOGOUT__REQUESTED, payload : id})\n}\n\nexport const RegisterUser = formValue => async (dispatch) => {\n    console.log(formValue)\n    const response = await posts.post('/wp/v2/users/register', { ...formValue });\n    console.log(response.data,'RegisterUser');\n\n};\n\nexport const createpost = formValue => async (dispatch) => {\n    const response = await posts.post('/wp/v2/posts', { ...formValue });\n    console.log(response);\n    dispatch({ type: CREATE_POST, payload: response.data });\n};\n\nexport const postList = () => async (dispatch) => {\n    //console.log(header)\n    const response = await posts.get('/wp/v2/posts');\n    console.log(response.data, \"aaaa\");\n    dispatch({ type: POST_LIST, payload: response.data });\n};\n/* \n    export const SinglePostList = id => async (dispatch) => {\n        const response = await posts.get(`/wp/v2/posts/${id}`);\n        console.log(response);\n        dispatch({type: SINGLE_POST_LISTa, payload: response.data});\n    }; */\n\nexport const UpdatePost = (id, formValue) => async (dispatch) => {\n    const response = await posts.put(`/wp/v2/posts/${id}`, { ...formValue });\n    console.log(response);\n    dispatch({ type: UPDATE_POST, payload: response.data });\n};\n\nexport const DeletePost = (id) => async (dispatch) => {\n    const response = await posts.delete(`/wp/v2/posts/${id}`);\n    console.log(response);\n    dispatch({ type: DELETE_POST, payload: id });\n};\n\n\n\n"]},"metadata":{},"sourceType":"module"}